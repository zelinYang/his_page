/*!
 * template
 * version: 1.0.0 */!function(){function a(a,b){var c=UE.dom.domUtils.createElement(document,"div",{"class":"emr-value emr-label"+b.labelName.length,contenteditable:!0});if(b.labelName){var d=UE.dom.domUtils.createElement(document,"span",{style:"float: left;","class":"emr-label",contenteditable:!1,"emr-type":"label"});d.innerHTML="<b>"+b.labelName+"</b>",c.append(d)}var e=UE.dom.domUtils.createElement(document,"p",{contenteditable:"1"==b.mode});e.innerHTML="<br>",c.append(e),c.style.color=b.fontColor,c.style.backgroundColor=b.backgroundColor,a.appendChild(c)}var b=window.parent;dialog=b.$EDITORUI[window.frameElement.id.replace(/_iframe$/,"")],window.editor=dialog.editor,UE=b.UE,domUtils=UE.dom.domUtils,utils=UE.utils,browser=UE.browser,ajax=UE.ajax,$G=function(a){return document.getElementById(a)},$focus=function(a){setTimeout(function(){if(browser.ie){var b=a.createTextRange();b.collapse(!1),b.select()}else a.focus()},0)},lang=editor.getLang(dialog.className.split("-")[2]),lang&&domUtils.on(window,"load",function(){var a=editor.options.langPath+editor.options.lang+"/images/";for(var b in lang["static"]){var c=$G(b);if(c){var d=c.tagName,e=lang["static"][b];switch(e.src&&(e=utils.extend({},e,!1),e.src=a+e.src),e.style&&(e=utils.extend({},e,!1),e.style=e.style.replace(/url\s*\(/g,"url("+a)),d.toLowerCase()){case"var":c.parentNode.replaceChild(document.createTextNode(e),c);break;case"select":for(var f,g=c.options,h=0;f=g[h];)f.innerHTML=e.options[h++];for(var i in e)"options"!=i&&c.setAttribute(i,e[i]);break;default:domUtils.setAttributes(c,e)}}}}),window.createElement=function(a,b){var c=null;try{c=document.createElement(a),c&&(c.id=b)}catch(d){}return null==c&&(c=document.createElement(a),c.name=b),c},window.generateTextHtml=function(a){var b="minitext",c={};console.log(JSON.stringify(a));var d=JSON.parse(a.controlParam);c.desc=a.description,c.required="1"===a.requiredFlag?1:0,c.notdel="1"===a.notDelFlag?1:0,c.verify=a.verifyFormat,c.mode=a.editModeFlag,c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.defaultValue=d.defaultValue?d.defaultValue:"",c.type="text",console.log(JSON.stringify(c));var e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl"+(c.required?" ctrl-required":"")+("2"===c.mode?" ctrl-hide":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"text","emr-right":".","emr-model":encodeURIComponent(JSON.stringify(c))}),f=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:"1"===c.mode,"emr-left":"[","emr-right":"]"});f.innerHTML=c.defaultValue?c.defaultValue:c.desc,e.appendChild(f),f.style.color="#"+a.fontColor,console.log(a.fontColor),f.style.backgroundColor="#"+a.backgroundColor,editor.execCommand("insertControl",e,c),UE.plugins[b].domListener()},window.generateTextareaHtml=function(a){var b="miniclickarea",c={},d=JSON.parse(a.controlParam);c.desc=a.description,c.notdel="1"===a.notDelFlag?1:0,c.mode=a.editModeFlag,c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.type="clickarea",c.labelName=d.labelName?d.labelName:"",c.functionName=d.functionName?d.functionName:"",c.ctrlType=d.sectionType?d.sectionType:"",domCtrl=UE.dom.domUtils.createElement(document,"div",{"class":"emr-ctrl emr-section"+(c.required?" ctrl-required":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"clickarea","emr-model":encodeURIComponent(JSON.stringify(c))});var e=UE.dom.domUtils.createElement(document,"div",{"class":"emr-value emr-label"+("1"===c.ctrlType?c.labelName.length:""),contenteditable:!!c.mode});if(c.labelName)switch(c.ctrlType){case"1":var f=UE.dom.domUtils.createElement(document,"p",{}),g=UE.dom.domUtils.createElement(document,"span",{style:"float: left;","class":"emr-label",contenteditable:!1,"emr-type":"label"});console.log(c.labelName.replace(/@/g,"&nbsp;&nbsp;")),g.innerHTML="<b>"+c.labelName.replace(/@/g,"&nbsp;&nbsp;")+"</b>",g.style.color=c.fontColor,g.style.backgroundColor=c.backgroundColor,e.append(g),e.append(f);break;case"2":var h=UE.dom.domUtils.createElement(document,"p",{contenteditable:!1}),g=UE.dom.domUtils.createElement(document,"span",{"class":"emr-label",contenteditable:!1,"emr-type":"label"}),i=UE.dom.domUtils.createElement(document,"p",{});g.innerHTML="<b>"+c.labelName.replace(/@/g,"&nbsp;&nbsp;")+"</b>",g.style.color=c.fontColor,g.style.backgroundColor=c.backgroundColor,h.append(g),e.append(h),e.append(i);break;case"3":var g=UE.dom.domUtils.createElement(document,"span",{style:"float: left;","class":"emr-label",contenteditable:!1,"emr-type":"label"}),i=UE.dom.domUtils.createElement(document,"p",{});g.innerHTML="<b>"+c.labelName.replace(/@/g,"&nbsp;&nbsp;")+"</b>",g.style.color=c.fontColor,g.style.backgroundColor=c.backgroundColor,e.append(g),e.append(i)}else e.innerHTML=c.desc;domCtrl.appendChild(e),e.style.color=c.fontColor,e.style.backgroundColor=c.backgroundColor,editor.execCommand("insertControl",domCtrl,c),UE.plugins[b].domListener()},window.generateDateHtml=function(a){var b="minidate",c={};c.desc=a.description,c.required="1"===a.requiredFlag?1:0,c.notdel="1"===a.notDelFlag?1:0,c.mode=a.editModeFlag,c.min="",c.max="",c.format=a.dateFormat,c.defvalue="",c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.type="date";var d=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl"+(c.required?" ctrl-required":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"date","emr-right":".","emr-model":encodeURIComponent(JSON.stringify(c))}),e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:!1,"emr-left":"[","emr-right":"]"});e.innerHTML=c.desc,d.appendChild(e),e.style.color="#"+a.fontColor,e.style.backgroundColor="#"+a.backgroundColor,editor.execCommand("insertControl",d,c),UE.plugins[b].domListener()},window.generateSelectHtml=function(a){var b="miniselect",c={};c.desc=a.description,c.required="1"===a.requiredFlag?1:0,c.multi="1"===a.multiType?1:0,c.notdel="1"===a.notDelFlag?1:0,c.mode=a.editModeFlag,c.bindingdata=a.bindingData?a.bindingData:JSON.stringify([]),c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.type="select",console.log(a.bindingData),a.remoteUrl&&(c.remotedata={url:a.remoteUrl,method:"get",headers:"",data:""});var d=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl"+(c.required?" ctrl-required":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"select","emr-right":".","emr-model":encodeURIComponent(JSON.stringify(c)),bindingdata:encodeURIComponent(c.bindingdata)}),e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:!1,"emr-left":"[","emr-right":"]"});e.innerHTML=c.desc,d.appendChild(e),e.style.color="#"+a.fontColor,e.style.backgroundColor="#"+a.backgroundColor,editor.execCommand("insertControl",d,c),UE.plugins[b].domListener()},window.generateCheckboxHtml=function(a){var b="minicheckbox",c={};c.desc=a.description,c.required="1"===a.requiredFlag?1:0,c.notdel="1"===a.notDelFlag?1:0,c.mode=a.editModeFlag,c.bindingdata=a.bindingData?a.bindingData:JSON.stringify([]),c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.type="checkbox",a.remoteUrl&&(c.remotedata={url:a.remoteUrl,method:"get",headers:"",data:""});var d=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl"+(c.required?" ctrl-required":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"checkbox","emr-right":".","emr-model":encodeURIComponent(JSON.stringify(c)),bindingdata:encodeURIComponent(c.bindingdata)}),e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:!1,"emr-left":"[","emr-right":"]"});e.innerHTML=c.desc,d.appendChild(e),e.style.color="#"+a.fontColor,e.style.backgroundColor="#"+a.backgroundColor,editor.execCommand("insertControl",d,c),UE.plugins[b].domListener()},window.generateRadioHtml=function(a){var b="miniradio",c={};c.desc=a.description,c.required="1"===a.requiredFlag?1:0,c.notdel="1"===a.notDelFlag?1:0,c.mode=a.editModeFlag,c.bindingdata=a.bindingData?a.bindingData:JSON.stringify([]),c.dataElementId=a.dataElementId,c.elementName=a.modelName,c.elementEnName=a.fieldName,c.type="radio",a.remoteUrl&&(c.remotedata={url:a.remoteUrl,method:"get",headers:"",data:""});var d=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl"+(c.required?" ctrl-required":""),contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"radio","emr-right":".","emr-model":encodeURIComponent(JSON.stringify(c)),bindingdata:encodeURIComponent(c.bindingdata)}),e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:!1,"emr-left":"[","emr-right":"]"});e.innerHTML=c.desc,d.appendChild(e),e.style.color="#"+a.fontColor,e.style.backgroundColor="#"+a.backgroundColor,editor.execCommand("insertControl",d,c),UE.plugins[b].domListener()},window.generateListHtml=function(b){var c="minilist",d=JSON.parse(b.controlParam),e={};console.log(d),e.type="list",e.desc=b.description,e.required="1"===b.requiredFlag?1:0,e.strictverify="1"===b.strictverify?1:0,e.mode=b.editModeFlag,e.labelName=d.labelName?d.labelName:"",e.functionName=d.functionName?d.functionName:"",e.fieldName=d.fieldShowName?d.fieldShowName:"",e.dataElementId=b.dataElementId,e.elementName=b.modelName,e.elementEnName=b.fieldName,e.fontColor=b.fontColor,e.backgroundColor=b.backgroundColor;var f=UE.dom.domUtils.createElement(document,"div",{"class":"emr-ctrl"+(e.required?" ctrl-required":""),style:"width: 100%",contenteditable:!1,id:b.className+"_"+b.fieldName,"emr-type":"list","emr-model":encodeURIComponent(JSON.stringify(e))});a(f,e),editor.execCommand("insertControl",f,e),UE.plugins[c].domListener()},window.generateFormulaHtml=function(a){var b="minilist",c=JSON.parse(a.controlParam),d={};d.desc=a.description,d.formulaType=c.formulaType,d.mode=a.editModeFlag,d.dataElementId=a.dataElementId,d.elementName=a.modelName,d.elementEnName=a.fieldName,d.type="medicalformula";var e=UE.dom.domUtils.createElement(document,"span",{"class":"emr-ctrl",contenteditable:!1,id:a.className+"_"+a.fieldName,"emr-type":"medicalformula",title:d.desc,"emr-model":encodeURIComponent(JSON.stringify(d))}),f=UE.dom.domUtils.createElement(document,"span",{"class":"emr-value",contenteditable:!1}),g=UE.dom.domUtils.createElement(document,"img",{});f.appendChild(g),e.appendChild(f),editor.execCommand("insertControl",e,d),UE.plugins[b].domListener()}}();